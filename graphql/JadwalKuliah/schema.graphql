type JadwalKuliah {
    id: ID!
    kelas_id: Int!
    ruangan_id: Int!
    hari: String!
    jam_mulai: Time!
    jam_selesai: Time!
    keterangan: String
    created_at: DateTime
    updated_at: DateTime
    deleted_at: DateTime
    
    # Relations
    kelas: Kelas! @belongsTo
    ruangan: Ruangan! @belongsTo
}

input CreateJadwalKuliahInput {
    kelas_id: Int!
    ruangan_id: Int!
    hari: String!
    jam_mulai: Time!
    jam_selesai: Time!
    keterangan: String
}

input UpdateJadwalKuliahInput {
    id: Int
    kelas_id: Int
    ruangan_id: Int
    hari: String
    jam_mulai: Time
    jam_selesai: Time
    keterangan: String
}

type JadwalKuliahPaginator {
    data: [JadwalKuliah]!
    paginatorInfo: PageInfo!
}

type PageInfo {
    hasMorePages: Boolean!
    currentPage: Int!
    lastPage: Int!
    perPage: Int!
    total: Int!
}

extend type Query{
    allJadwalKuliah: [JadwalKuliah!]! @all(model: "JadwalKuliah\\JadwalKuliah")
    JadwalKuliah(id: ID! @eq(key: "id")): JadwalKuliah @find(model: "JadwalKuliah\\JadwalKuliah")
    allJadwalKuliahPaginate(
            search: String
            first: Int
            page: Int
        ): JadwalKuliahPaginator @field(resolver: "App\\GraphQL\\JadwalKuliah\\Queries\\JadwalKuliahQuery@all")   
    allJadwalKuliahArsip(
            search: String
            first: Int
            page: Int
        ): JadwalKuliahPaginator @field(resolver: "App\\GraphQL\\JadwalKuliah\\Queries\\JadwalKuliahQuery@allArsip")   
    JadwalKuliahByNama(
        nama_JadwalKuliah: String! @where(operator: "like", key: "nama_JadwalKuliah")
    ): [JadwalKuliah]! @all(model: "JadwalKuliah\\JadwalKuliah")
}

extend type Mutation {
  createJadwalKuliah(input: CreateJadwalKuliahInput! @spread): JadwalKuliah
    @create(model: "JadwalKuliah\\JadwalKuliah")

  updateJadwalKuliah(
    id: ID! @eq(key: "id"),
    input: UpdateJadwalKuliahInput! @spread
  ): JadwalKuliah
    @update(model: "JadwalKuliah\\JadwalKuliah")

  deleteJadwalKuliah(id: ID! @eq(key: "id")): JadwalKuliah
    @delete(model: "JadwalKuliah\\JadwalKuliah")

  restoreJadwalKuliah(id: ID!): JadwalKuliah
    @field(resolver: "JadwalKuliah\\Mutations\\JadwalKuliahMutation@restore")

  forceDeleteJadwalKuliah(id: ID!): JadwalKuliah
    @field(resolver: "JadwalKuliah\\Mutations\\JadwalKuliahMutation@forceDelete")
}
